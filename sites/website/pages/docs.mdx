import { AuthDocTemplate } from "../components/AuthDocTemplate";
import styled from "styled-components";
export default AuthDocTemplate;

export const meta = {
  title: "Docs",
  description: "",
  needsSponsorship: false,
};

## Install

```bash
npm install motion@rc
```

**Note:** The API is still subject to discussion and as such I recommend locking to a specific version number for now.

## API

### `animate`

Animate an element to a specific target.

```javascript
animate(element, keyframes, options);
```

#### Keyframes

##### Single keyframe

By passing a single keyframe, the element will animate from its current styles to those defined in the keyframe:

```javascript
animate(element, {
  opacity: 1,
  transform: "rotate(360deg)",
});
```

##### Multiple keyframes

By defining a value as an array, it'll animate through each keyframe in turn:

```javascript
animate(element, {
  transform: ["rotate(90deg)", "translateX(100px) rotate(45deg)", "none"],
});
```

##### Custom keyframe timing

By default, each of these keyframes will be spaced evenly throughout the animation. It's also possible to specify a list of `offset`s, values between `0` and `1`, that defines a relative point in the animation a specific keyframe should be hit:

```javascript
animate(
  element,
  {
    transform: ["rotate(90deg)", "translateX(100px) rotate(45deg)", "none"],
  },
  { offset: [0, 0.25, 1] }
);
```

If there are fewer keyframes than offsets defined in `offset`, the other keyframes will be spaced evenly:

```javascript
animate(
  element,
  { color: ["red", "yellow", "green", "blue"] },
  { offset: [0, 0.2] } // [...0.6, 1]
);
```

##### Custom keyframe easing

It's also possible to define easing between specific keyframes by defining an [easing](#easing) option as any array:

```javascript
animate(
  element,
  { color: ["red", "yellow", "green", "blue"] },
  { easing: ["ease-in", "linear", "ease-out"] }
);
```

<!--
TODO: Accepted values / single transforms
-->

#### Options

Options can be defined either for all values:

```javascript
animate(
  element,
  { opacity: 0, color: ["red", "yellow", "green", "blue"] },
  { duration: 2 }
);
```

Or overridden for individual values:

```javascript
animate(
  element,
  { opacity: 0, color: ["red", "yellow", "green", "blue"] },
  {
    duration: 2,
    ease: "linear",
    opacity: { duration: 0.4 },
  }
);
```

##### `duration`

**Default:** `0.3`

A duration, in seconds, that the animation will be delayed before starting.

```javascript
animate(element, { backgroundColor: "red" }, { duration: 2 });
```

##### `delay`

**Default:** `0`

A duration, in seconds, that the animation will be delayed before starting.

```javascript
animate(element, { backgroundColor: "red" }, { delay: 0.5 });
```

##### `endDelay`

**Default:** `0`

A duration, in seconds, that the animation will wait at the end before repeating or ending.

```javascript
animate(element, { backgroundColor: "red" }, { endDelay: 0.5, repeat: 2 });
```

##### `easing`

**Default:** `"ease"`

An easing function to use, or list of easing functions to use for individual keyframes.

- Basic function names: `"linear"`, `"ease"`, `"ease-in"`, `"ease-out"`, `"ease-in-out"`
- [Cubic bezier curve](https://cubic-bezier.com/): e.g. `[.17,.67,.83,.67]`
- Stepped easing: e.g. `"steps(2, start)"`

```javascript
animate(element, { transform: "rotate(90deg)" }, { easing: "steps(2, start)" });
```

##### `direction`

**Default:** `"normal"`

The direction of animation playback. `"normal"`, `"reverse"`, `"alternate"`, or `"alternate-reverse"`.

```javascript
animate(element, { transform: "rotate(90deg)" }, { direction: "reverse" });
```

##### `repeat`

**Default:** `0`

The number of times the animation should repeat. Set to `Infinity` to repeat indefinitely.

```javascript
animate(element, { transform: "rotate(90deg)" }, { repeat: Infinity });
```

#### Returns

##### `finished`

A `Promise` that resolves when the animation finishes:

```javascript
// Async/await
await animate(element, { opacity: 0 }).finished;

// Promise
animate(element, { opacity: 0 }).finished.then(() => {
  // Do stuff
});
```

Or throws when the animation is cancelled:

```javascript
// Async/await
try {
  await animate(element, { opacity: 0 }).finished;
} catch (e) {
  // Animation was cancelled
}

// Promise
animate(element, { opacity: 0 }).finished.catch((e) => {
  // Do stuff
});
```

**Note:** If any one of the animating values is cancelled or interrupted by a new animation, `finished` will throw.

##### `currentTime`

The current play time of the animation in milliseconds.

```javascript
const animation = animate(element, { opacity: 0 });

const currentTime = animation.currentTime;
animation.currentTime = 200;
```

##### `playbackRate`

**Default:** `1`

The current playback rate of the animation.

- `1` is normal time.
- `2` doubles the playback rate.
- `-1` reverses playback.

```javascript
const animation = animate(element, { opacity: 0 });

const currentPlaybackRate = animation.playbackRate;
animation.playbackRate = currentPlaybackRate * 2;
```

##### `pause()`

Pauses the animation until resumed with `play`.

```javascript
const animation = animate(element, { opacity: 0 });

animation.pause();
```

##### `play()`

Plays a paused animation.

```javascript
const animation = animate(element, { opacity: 0 });

animation.pause();
animation.play();
```

##### `finish()`

Immediately completes the animation and commits the final keyframe to the element's styles.

```javascript
const animation = animate(element, { opacity: 0 });

animation.finish();
```

##### `cancel()`

Cancels the animation and reverts the element to its underlying styles.

```javascript
const animation = animate(element, { opacity: 0 });

animation.cancel();
```

##### `stop()`

Cancels the animation and commits the current animation state to the element's styles.

```javascript
const animation = animate(element, { opacity: 0 });

animation.stop();
```
